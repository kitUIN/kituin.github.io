---
title: API
permalink: /wiki/bikaclient/api/
categories: 
  - 项目
  - BikaClient
tags: 
  - UWP
  - picacomic
  - bika
  - C++/WinRT
  - C++
  - WinRT
  - Nuget
  - Visual Studio 2022
author: 
  name: kitUIN
  link: https://github.com/kitUIN
article: false
date: 2022-05-27 20:18:59
---
## 登录
Define: `Login`
API: `auth/sign-in`
Method: `POST`
所需参数:

| 形参         | 类型                                                                          | 说明  |
|------------|-----------------------------------------------------------------------------|-----|
| `email`    | [`hstring`](https://docs.microsoft.com/zh-cn/uwp/cpp-ref-for-winrt/hstring) | 账号  |
| `password` | [`hstring`](https://docs.microsoft.com/zh-cn/uwp/cpp-ref-for-winrt/hstring) | 密码  |

返回结果: `LoginResponse`
::: tip 
若使用同一个`BikaHttpClient`,  
请求成功将会自动把`token`加入到`headers`中,不用手动导入  
:::

## 获取分区列表
Define: `Categories`
API: `categories`
Method: `GET`
所需参数: `无`
返回结果: `CategoriesResponse`

## 大家都在搜
Define: `Keywords`
API: `keywords`
Method: `GET`
所需参数: `无`
返回结果: ``


## 分区详情
Define: `Comics`
API: `comics?page={page}&c={title}&s={sort}`
Method: `GET`
所需参数: 
::: tip
`API`中`{ }`所括的即为所需参数中的形参
:::

| 形参      | 类型                                                                          | 说明   |
|---------|-----------------------------------------------------------------------------|------|
| `page`  | `int32_t`                                                                   | 页数   |
| `title` | [`hstring`](https://docs.microsoft.com/zh-cn/uwp/cpp-ref-for-winrt/hstring) | 分区名称 |
| `sort`  | `SortMode`                                                                  | 排序方式 |

返回结果: `ComicsResponse`

## 本子详情
Define: `BookInfo`
API: `comics/{bookId}`
Method: `GET`
所需参数:

| 形参       | 类型                                                                          | 说明   |
|----------|-----------------------------------------------------------------------------|------|
| `bookId` | [`hstring`](https://docs.microsoft.com/zh-cn/uwp/cpp-ref-for-winrt/hstring) | 本子ID |

返回结果: `BookInfoResponse`


## 本子分话详情
Define: `Episodes`
API: `comics/{bookId}/eps?page={page}"`
Method: `GET`
所需参数: 

| 形参       | 类型                                                                          | 说明   |
|----------|-----------------------------------------------------------------------------|------|
| `bookId` | [`hstring`](https://docs.microsoft.com/zh-cn/uwp/cpp-ref-for-winrt/hstring) | 本子ID |
| `page`   | `int32_t`                                                                   | 页数   |

返回结果: `EpisodesResponse`

## 本子本体图片
Define: `Pictures`
API: `comics/{bookId}/order/{epsId}/pages?page={page}`
Method: `GET`
所需参数: 

| 形参       | 类型                                                                          | 说明   |
|----------|-----------------------------------------------------------------------------|------|
| `bookId` | [`hstring`](https://docs.microsoft.com/zh-cn/uwp/cpp-ref-for-winrt/hstring) | 本子ID |
| `epsId`  | `int32_t`                                                                   | 分话   |
| `page`   | `int32_t`                                                                   | 页数   |

返回结果: `PicturesResponse`

## 看了这本子的人也在看
Define: `Recommend`
API: `comics/{bookId}/recommendation`
Method: `GET`
所需参数:

| 形参       | 类型                                                                          | 说明   |
|----------|-----------------------------------------------------------------------------|------|
| `bookId` | [`hstring`](https://docs.microsoft.com/zh-cn/uwp/cpp-ref-for-winrt/hstring) | 本子ID |

返回结果: `ComicsResponse`

## 用户信息
Define: `PersonInfo`
API: `users/profile`
Method: `GET`
所需参数: `无`
返回结果: `UserResponse`


## 用户收藏
Define: `PersonFavourite`
API: `users/favourite?s={sort}&page={page}`
Method: `GET`
所需参数:

| 形参      | 类型                                                                          | 说明   |
|---------|-----------------------------------------------------------------------------|------|
| `sort`  | `SortMode`                                                                  | 排序方式 |
| `page`  | `int32_t`                                                                   | 页数   |

返回结果: `ComicsResponse`

## 用户评论
Define: `PersonComment`
API: `users/my-comments?page={page}`
Method: `GET`
所需参数: 

| 形参      | 类型                                                                          | 说明   |
|---------|-----------------------------------------------------------------------------|------|
| `page`  | `int32_t`                                                                   | 页数   |

返回结果: `ComicsResponse`

## 搜索
Define: `Search`
API: `comics/advanced-search?page={page}`
Method: `POST`
所需参数: 

| 形参           | 类型                                                                                                   | 说明 |
|--------------|------------------------------------------------------------------------------------------------------|--|
| `keywords`   | [`hstring`](https://docs.microsoft.com/zh-cn/uwp/cpp-ref-for-winrt/hstring)                          | 页数 |
| `sort`       | `SortMode`                                                                                           | 页数 |
| `categories` | [`JsonArray`](https://docs.microsoft.com/en-us/uwp/api/windows.data.json.jsonarray?view=winrt-22621) | 分区筛选(非必要) |
| `page`       | `int32_t`                                                                                            | 页数 |

返回结果: `ComicsResponse`

## 漫画评论
Define: `Comments`
API: `comics/{bookId}/comments?page={page}`
Method: `GET`
所需参数: 

| 形参       | 类型                                                                          | 说明   |
|----------|-----------------------------------------------------------------------------|------|
| `bookId` | [`hstring`](https://docs.microsoft.com/zh-cn/uwp/cpp-ref-for-winrt/hstring) | 本子ID |
| `page`   | `int32_t`                                                                   | 页数   |

返回结果: `CommentsResponse`


## 分区
Define: `Categories`
API: `categories`
Method: `GET`
所需参数: `无`
返回结果: ``

## 分区
Define: `Categories`
API: `categories`
Method: `GET`
所需参数: `无`
返回结果: ``

## 分区
Define: `Categories`
API: `categories`
Method: `GET`
所需参数: `无`
返回结果: ``